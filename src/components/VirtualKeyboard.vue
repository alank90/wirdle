<template>
  <div id="keyboard-cont" @click="clickHandler">
    <div class="first-row">
      <button class="keyboard-button">q</button
      ><button class="keyboard-button">w</button
      ><button class="keyboard-button">e</button
      ><button class="keyboard-button">r</button
      ><button class="keyboard-button">t</button
      ><button class="keyboard-button">y</button
      ><button class="keyboard-button">u</button
      ><button class="keyboard-button">i</button
      ><button class="keyboard-button">o</button
      ><button class="keyboard-button">p</button>
    </div>
    <div class="second-row">
      <button class="keyboard-button">a</button
      ><button class="keyboard-button">s</button
      ><button class="keyboard-button">d</button
      ><button class="keyboard-button">f</button
      ><button class="keyboard-button">g</button
      ><button class="keyboard-button">h</button
      ><button class="keyboard-button">j</button
      ><button class="keyboard-button">k</button
      ><button class="keyboard-button">l</button>
    </div>
    <div class="third-row">
      <button class="keyboard-button">Del</button
      ><button class="keyboard-button">z</button
      ><button class="keyboard-button">x</button
      ><button class="keyboard-button">c</button
      ><button class="keyboard-button">v</button
      ><button class="keyboard-button">b</button
      ><button class="keyboard-button">n</button
      ><button class="keyboard-button">m</button
      ><button class="keyboard-button">Enter</button>
    </div>
  </div>
</template>

<script setup>
/**
    * clickHandler - On-screen Keyboard Input Generator
    * Description - To get your on-screen keyboard functioning, all you have
          to do is dispatch a key up event whenever any key on your 
          on-screen keyboard is clicked.
    * importedby { @/src/components/GameBoard.vue } - GameBoard.vue 
    * @param { object } e - the event object
    */
const clickHandler = (e) => {
  const target = e.target;

  if (!target.classList.contains("keyboard-button")) {
    return;
  }
  let key = target.textContent;

  if (key === "Del") {
    key = "Backspace";
  }

  document.dispatchEvent(new KeyboardEvent("keyup", { key: key }));
};
</script>

<style scoped>
#keyboard-cont {
  margin: 1rem 0;
  display: flex;
  flex-direction: column;
  align-items: center;
}

#keyboard-cont div {
  display: flex;
}

.second-row {
  margin: 0.5rem 0;
}

.keyboard-button {
  font-size: 1rem;
  font-weight: 700;
  padding: 0.5rem;
  margin: 0 2px;
  cursor: pointer;
  border-radius: 4px;
  text-transform: uppercase;
  user-select: none;
}
</style>
